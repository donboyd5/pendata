---
format:
  html:
    toc: true
    toc-depth: 4
    page-layout: full
    css: wider.css
---

# Assemble list

```{r}
#| label: setup

source(here::here("data-raw", "R", "setup.R"))
DIRS <- set_plan_dirs(PLAN_CONSTANTS)

```


```{r}

files <- fs::dir_ls(DIRS$staged)

rds_files <- files |>
  stringr::str_subset(".rds")

# for (file in rds_files) {
#   obj_name <- fs::path_file(file) |> fs::path_ext_remove()
#   assign(objname, readRDS(file))
#   usethis::use_data(objname, overwrite = TRUE)
# }

rds_files <- fs::dir_ls(DIRS$staged, glob = "*.rds")
element_names <- rds_files |>
  path_file() |>
  path_ext_remove()

frs <- rds_files |>
  purrr::map(readRDS) |>
  rlang::set_names(element_names)

usethis::use_data(frs, overwrite = TRUE)

```
